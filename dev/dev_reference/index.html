<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Developer reference · Revise.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Revise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Revise.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../config/">Configuration</a></li><li><a class="tocitem" href="../cookbook/">Revise usage: a cookbook</a></li><li><a class="tocitem" href="../limitations/">Limitations</a></li><li><a class="tocitem" href="../debugging/">Debugging Revise</a></li><li><a class="tocitem" href="../internals/">How Revise works</a></li><li><a class="tocitem" href="../user_reference/">User reference</a></li><li class="is-active"><a class="tocitem" href>Developer reference</a><ul class="internal"><li><a class="tocitem" href="#Internal-global-variables-1"><span>Internal global variables</span></a></li><li><a class="tocitem" href="#Types-1"><span>Types</span></a></li><li><a class="tocitem" href="#Function-reference-1"><span>Function reference</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Developer reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Developer reference</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/timholy/Revise.jl/blob/master/docs/src/dev_reference.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Developer-reference-1"><a class="docs-heading-anchor" href="#Developer-reference-1">Developer reference</a><a class="docs-heading-anchor-permalink" href="#Developer-reference-1" title="Permalink"></a></h1><h2 id="Internal-global-variables-1"><a class="docs-heading-anchor" href="#Internal-global-variables-1">Internal global variables</a><a class="docs-heading-anchor-permalink" href="#Internal-global-variables-1" title="Permalink"></a></h2><h3 id="Configuration-related-variables-1"><a class="docs-heading-anchor" href="#Configuration-related-variables-1">Configuration-related variables</a><a class="docs-heading-anchor-permalink" href="#Configuration-related-variables-1" title="Permalink"></a></h3><p>These are set during execution of Revise&#39;s <code>__init__</code> function.</p><article class="docstring"><header><a class="docstring-binding" id="Revise.watching_files" href="#Revise.watching_files"><code>Revise.watching_files</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.watching_files[]</code></pre><p>Returns <code>true</code> if we watch files rather than their containing directory. FreeBSD and NFS-mounted systems should watch files, otherwise we prefer to watch directories.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L19-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.polling_files" href="#Revise.polling_files"><code>Revise.polling_files</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.polling_files[]</code></pre><p>Returns <code>true</code> if we should poll the filesystem for changes to the files that define loaded code. It is preferable to avoid polling, instead relying on operating system notifications via <code>FileWatching.watch_file</code>. However, NFS-mounted filesystems (and perhaps others) do not support file-watching, so for code stored on such filesystems you should turn polling on.</p><p>See the documentation for the <code>JULIA_REVISE_POLL</code> environment variable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L28-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.tracking_Main_includes" href="#Revise.tracking_Main_includes"><code>Revise.tracking_Main_includes</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.tracking_Main_includes[]</code></pre><p>Returns <code>true</code> if files directly included from the REPL should be tracked. The default is <code>false</code>. See the documentation regarding the <code>JULIA_REVISE_INCLUDE</code> environment variable to customize it.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L56-L62">source</a></section></article><h3 id="Path-related-variables-1"><a class="docs-heading-anchor" href="#Path-related-variables-1">Path-related variables</a><a class="docs-heading-anchor-permalink" href="#Path-related-variables-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.juliadir" href="#Revise.juliadir"><code>Revise.juliadir</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.juliadir</code></pre><p>Constant specifying full path to julia top-level source directory. This should be reliable even for local builds, cross-builds, and binary installs.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L152-L157">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.basesrccache" href="#Revise.basesrccache"><code>Revise.basesrccache</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.basesrccache</code></pre><p>Full path to the running Julia&#39;s cache of source code defining <code>Base</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L134-L138">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.basebuilddir" href="#Revise.basebuilddir"><code>Revise.basebuilddir</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.basebuilddir</code></pre><p>Julia&#39;s top-level directory when Julia was built, as recorded by the entries in <code>Base._included_files</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L141-L146">source</a></section></article><h3 id="Internal-state-management-1"><a class="docs-heading-anchor" href="#Internal-state-management-1">Internal state management</a><a class="docs-heading-anchor-permalink" href="#Internal-state-management-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.pkgdatas" href="#Revise.pkgdatas"><code>Revise.pkgdatas</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.pkgdatas</code></pre><p><code>pkgdatas</code> is the core information that tracks the relationship between source code and julia objects, and allows re-evaluation of code in the proper module scope. It is a dictionary indexed by PkgId: <code>pkgdatas[id]</code> returns a value of type <a href="#Revise.PkgData"><code>Revise.PkgData</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L107-L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.watched_files" href="#Revise.watched_files"><code>Revise.watched_files</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.watched_files</code></pre><p>Global variable, <code>watched_files[dirname]</code> returns the collection of files in <code>dirname</code> that we&#39;re monitoring for changes. The returned value has type <a href="#Revise.WatchList"><code>Revise.WatchList</code></a>.</p><p>This variable allows us to watch directories rather than files, reducing the burden on the OS.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L79-L87">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.revision_queue" href="#Revise.revision_queue"><code>Revise.revision_queue</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.revision_queue</code></pre><p>Global variable, <code>revision_queue</code> holds <code>(pkgdata,filename)</code> pairs that we need to revise, meaning that these files have changed since we last processed a revision. This list gets populated by callbacks that watch directories for updates.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L90-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.queue_errors" href="#Revise.queue_errors"><code>Revise.queue_errors</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.queue_errors</code></pre><p>Global variable, maps <code>(pkgdata, filename)</code> pairs that errored upon last revision to <code>(exception, backtrace)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L99-L104">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.included_files" href="#Revise.included_files"><code>Revise.included_files</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">Revise.included_files</code></pre><p>Global variable, <code>included_files</code> gets populated by callbacks we register with <code>include</code>. It&#39;s used to track non-precompiled packages and, optionally, user scripts (see docs on <code>JULIA_REVISE_INCLUDE</code>).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L125-L131">source</a></section></article><h2 id="Types-1"><a class="docs-heading-anchor" href="#Types-1">Types</a><a class="docs-heading-anchor-permalink" href="#Types-1" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Revise.RelocatableExpr" href="#Revise.RelocatableExpr"><code>Revise.RelocatableExpr</code></a> — <span class="docstring-category">Type</span></header><section><div><p>A <code>RelocatableExpr</code> wraps an <code>Expr</code> to ensure that comparisons between <code>RelocatableExpr</code>s ignore line numbering information. This allows one to detect that two expressions are the same no matter where they appear in a file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/relocatable_exprs.jl#L10-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.BackEdges" href="#Revise.BackEdges"><code>Revise.BackEdges</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">backedges = BackEdges(code::CodeInfo)</code></pre><p>Analyze <code>code</code> and determine the chain of dependencies. <code>backedges.byid[i]</code> lists the succeeding lines that depend on <code>i</code>. (In addition to SSAValue dependencies, this includes basic-block control flow dependencies.) <code>backedges.byname[sym]</code> lists the lines that depend on a particular symbol.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/backedges.jl#L166-L174">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.ModuleExprsSigs" href="#Revise.ModuleExprsSigs"><code>Revise.ModuleExprsSigs</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">ModuleExprsSigs</code></pre><p>For a particular source file, the corresponding <code>ModuleExprsSigs</code> is a mapping <code>mod=&gt;exprs=&gt;sigs</code> of the expressions <code>exprs</code> found in <code>mod</code> and the signatures <code>sigs</code> that arise from them. Specifically, if <code>mes</code> is a <code>ModuleExprsSigs</code>, then <code>mes[mod][ex]</code> is a list of signatures that result from evaluating <code>ex</code> in <code>mod</code>. It is possible that this returns <code>nothing</code>, which can mean either that <code>ex</code> does not define any methods or that the signatures have not yet been cached.</p><p>The first <code>mod</code> key is guaranteed to be the module into which this file was <code>include</code>d.</p><p>To create a <code>ModuleExprsSigs</code> from a source file, see <a href="#Revise.parse_source"><code>Revise.parse_source</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/types.jl#L43-L56">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.FileInfo" href="#Revise.FileInfo"><code>Revise.FileInfo</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">FileInfo(mexs::ModuleExprsSigs, cachefile=&quot;&quot;)</code></pre><p>Structure to hold the per-module expressions found when parsing a single file. <code>mexs</code> holds the <a href="#Revise.ModuleExprsSigs"><code>Revise.ModuleExprsSigs</code></a> for the file.</p><p>Optionally, a <code>FileInfo</code> can also record the path to a cache file holding the original source code. This is applicable only for precompiled modules and <code>Base</code>. (This cache file is distinct from the original source file that might be edited by the developer, and it will always hold the state of the code when the package was precompiled or Julia&#39;s <code>Base</code> was built.) When a cache is available, <code>mexs</code> will be empty until the file gets edited: the original source code gets parsed only when a revision needs to be made.</p><p>Source cache files greatly reduce the overhead of using Revise.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/types.jl#L74-L90">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.PkgData" href="#Revise.PkgData"><code>Revise.PkgData</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">PkgData(id, path, fileinfos::Dict{String,FileInfo})</code></pre><p>A structure holding the data required to handle a particular package. <code>path</code> is the top-level directory defining the package, and <code>fileinfos</code> holds the <a href="#Revise.FileInfo"><code>Revise.FileInfo</code></a> for each file defining the package.</p><p>For the <code>PkgData</code> associated with <code>Main</code> (e.g., for files loaded with <a href="../user_reference/#Revise.includet"><code>includet</code></a>), the corresponding <code>path</code> entry will be empty.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/types.jl#L120-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.WatchList" href="#Revise.WatchList"><code>Revise.WatchList</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">Revise.WatchList</code></pre><p>A struct for holding files that live inside a directory. Some platforms (OSX) have trouble watching too many files. So we watch parent directories, and keep track of which files in them should be tracked.</p><p>Fields:</p><ul><li><code>timestamp</code>: mtime of last update</li><li><code>trackedfiles</code>: Set of filenames, generally expressed as a relative path</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/types.jl#L1-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.SlotDep" href="#Revise.SlotDep"><code>Revise.SlotDep</code></a> — <span class="docstring-category">Type</span></header><section><div><p><code>SlotDep</code> is an internal type used for holding information about dependencies of a SlotNumber variable. If <code>sd</code> is a <code>SlotDep</code>, then</p><ul><li><code>sd.lineassigned</code> is the statement number on which the SlotNumber was most recently assigned</li><li><code>sd.linedeps</code> is the set of previous SSAValues upon which this assigment depends (encoded as Int)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/backedges.jl#L13-L18">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.TaskThunk" href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">thunk = TaskThunk(f, args)</code></pre><p>To facilitate precompilation and reduce latency, we avoid creation of anonymous thunks. <code>thunk</code> can be used as an argument in <code>schedule(Task(thunk))</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/types.jl#L218-L223">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.MethodSummary" href="#Revise.MethodSummary"><code>Revise.MethodSummary</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">MethodSummary(method)</code></pre><p>Create a portable summary of a method. In particular, a MethodSummary can be saved to a JLD2 file.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/logging.jl#L128-L132">source</a></section></article><h2 id="Function-reference-1"><a class="docs-heading-anchor" href="#Function-reference-1">Function reference</a><a class="docs-heading-anchor-permalink" href="#Function-reference-1" title="Permalink"></a></h2><h3 id="Functions-called-during-initialization-of-Revise-1"><a class="docs-heading-anchor" href="#Functions-called-during-initialization-of-Revise-1">Functions called during initialization of Revise</a><a class="docs-heading-anchor-permalink" href="#Functions-called-during-initialization-of-Revise-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.async_steal_repl_backend" href="#Revise.async_steal_repl_backend"><code>Revise.async_steal_repl_backend</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Revise.async_steal_repl_backend()</code></pre><p>Wait for the REPL to complete its initialization, and then call <a href="#Revise.steal_repl_backend"><code>Revise.steal_repl_backend</code></a>. This is necessary because code registered with <code>atreplinit</code> runs before the REPL is initialized, and there is no corresponding way to register code to run after it is complete.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L1065-L1071">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.steal_repl_backend" href="#Revise.steal_repl_backend"><code>Revise.steal_repl_backend</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">steal_repl_backend(backend = Base.active_repl_backend)</code></pre><p>Replace the REPL&#39;s normal backend with one that calls <a href="../user_reference/#Revise.revise"><code>revise</code></a> before executing any REPL input.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L1030-L1035">source</a></section></article><h3 id="Functions-called-when-you-load-a-new-package-1"><a class="docs-heading-anchor" href="#Functions-called-when-you-load-a-new-package-1">Functions called when you load a new package</a><a class="docs-heading-anchor-permalink" href="#Functions-called-when-you-load-a-new-package-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.watch_package" href="#Revise.watch_package"><code>Revise.watch_package</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">watch_package(id::Base.PkgId)</code></pre><p>Start watching a package for changes to the files that define it. This function gets called via a callback registered with <code>Base.require</code>, at the completion of module-loading by <code>using</code> or <code>import</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/pkgs.jl#L388-L394">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.parse_pkg_files" href="#Revise.parse_pkg_files"><code>Revise.parse_pkg_files</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parse_pkg_files(id::PkgId)</code></pre><p>This function gets called by <code>watch_package</code> and runs when a package is first loaded. Its job is to organize the files and expressions defining the module so that later we can detect and process revisions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/pkgs.jl#L149-L155">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.init_watching" href="#Revise.init_watching"><code>Revise.init_watching</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Revise.init_watching(files)
Revise.init_watching(pkgdata::PkgData, files)</code></pre><p>For every filename in <code>files</code>, monitor the filesystem for updates. When the file is updated, either <a href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a> or <a href="#Revise.revise_file_queued"><code>Revise.revise_file_queued</code></a> will be called.</p><p>Use the <code>pkgdata</code> version if the files are supplied using relative paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L440-L449">source</a></section></article><h3 id="Monitoring-for-changes-1"><a class="docs-heading-anchor" href="#Monitoring-for-changes-1">Monitoring for changes</a><a class="docs-heading-anchor-permalink" href="#Monitoring-for-changes-1" title="Permalink"></a></h3><p>These functions get called on each directory or file that you monitor for revisions. These block execution until the file(s) are updated, so you should only call them from within an <code>@async</code> block. They work recursively: once an update has been detected and execution resumes, they schedule a revision (see <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>) and then call themselves on the same directory or file to wait for the next set of changes.</p><article class="docstring"><header><a class="docstring-binding" id="Revise.revise_dir_queued" href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">revise_dir_queued(dirname)</code></pre><p>Wait for one or more of the files registered in <code>Revise.watched_files[dirname]</code> to be modified, and then queue the corresponding files on <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>. This is generally called via a <a href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L476-L482">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.revise_file_queued" href="#Revise.revise_file_queued"><code>Revise.revise_file_queued</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">revise_file_queued(pkgdata::PkgData, filename)</code></pre><p>Wait for modifications to <code>filename</code>, and then queue the corresponding files on <a href="#Revise.revision_queue"><code>Revise.revision_queue</code></a>. This is generally called via a <a href="#Revise.TaskThunk"><code>Revise.TaskThunk</code></a>.</p><p>This is used only on platforms (like BSD) which cannot use <a href="#Revise.revise_dir_queued"><code>Revise.revise_dir_queued</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L509-L516">source</a></section></article><h3 id="Evaluating-changes-(revising)-and-computing-diffs-1"><a class="docs-heading-anchor" href="#Evaluating-changes-(revising)-and-computing-diffs-1">Evaluating changes (revising) and computing diffs</a><a class="docs-heading-anchor-permalink" href="#Evaluating-changes-(revising)-and-computing-diffs-1" title="Permalink"></a></h3><p><a href="../user_reference/#Revise.revise"><code>revise</code></a> is the primary entry point for implementing changes. Additionally,</p><article class="docstring"><header><a class="docstring-binding" id="Revise.revise_file_now" href="#Revise.revise_file_now"><code>Revise.revise_file_now</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Revise.revise_file_now(pkgdata::PkgData, file)</code></pre><p>Process revisions to <code>file</code>. This parses <code>file</code> and computes an expression-level diff between the current state of the file and its most recently evaluated state. It then deletes any removed methods and re-evaluates any changed expressions. Note that generally it is better to use <a href="../user_reference/#Revise.revise"><code>revise</code></a> as it properly handles methods that move from one file to another.</p><p><code>id</code> must be a key in <a href="#Revise.pkgdatas"><code>Revise.pkgdatas</code></a>, and <code>file</code> a key in <code>Revise.pkgdatas[id].fileinfos</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L562-L573">source</a></section></article><h3 id="Caching-the-definition-of-methods-1"><a class="docs-heading-anchor" href="#Caching-the-definition-of-methods-1">Caching the definition of methods</a><a class="docs-heading-anchor-permalink" href="#Caching-the-definition-of-methods-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.get_def" href="#Revise.get_def"><code>Revise.get_def</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">success = get_def(method::Method)</code></pre><p>As needed, load the source file necessary for extracting the code defining <code>method</code>. The source-file defining <code>method</code> must be tracked. If it is in Base, this will execute <code>track(Base)</code> if necessary.</p><p>This is a callback function used by <code>CodeTracking.jl</code>&#39;s <code>definition</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L863-L871">source</a></section></article><h3 id="Parsing-source-code-1"><a class="docs-heading-anchor" href="#Parsing-source-code-1">Parsing source code</a><a class="docs-heading-anchor-permalink" href="#Parsing-source-code-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.parse_source" href="#Revise.parse_source"><code>Revise.parse_source</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">mexs = parse_source(filename::AbstractString, mod::Module)</code></pre><p>Parse the source <code>filename</code>, returning a <a href="#Revise.ModuleExprsSigs"><code>ModuleExprsSigs</code></a> <code>mexs</code>. <code>mod</code> is the &quot;parent&quot; module for the file (i.e., the one that <code>include</code>d the file); if <code>filename</code> defines more module(s) then these will all have separate entries in <code>mexs</code>.</p><p>If parsing <code>filename</code> fails, <code>nothing</code> is returned.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/parsing.jl#L1-L9">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.parse_source!" href="#Revise.parse_source!"><code>Revise.parse_source!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parse_source!(mexs::ModuleExprsSigs, filename, mod::Module)</code></pre><p>Top-level parsing of <code>filename</code> as included into module <code>mod</code>. Successfully-parsed expressions will be added to <code>mexs</code>. Returns <code>mexs</code> if parsing finished successfully, otherwise <code>nothing</code> is returned.</p><p>See also <a href="#Revise.parse_source"><code>Revise.parse_source</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/parsing.jl#L13-L21">source</a></section><section><div><pre><code class="language-none">success = parse_source!(mod_exprs_sigs::ModuleExprsSigs, src::AbstractString, filename::AbstractString, mod::Module)</code></pre><p>Parse a string <code>src</code> obtained by reading <code>file</code> as a single string. <code>pos</code> is the 1-based byte offset from which to begin parsing <code>src</code>.</p><p>See also <a href="#Revise.parse_source"><code>Revise.parse_source</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/parsing.jl#L30-L37">source</a></section></article><h3 id="Modules-and-paths-1"><a class="docs-heading-anchor" href="#Modules-and-paths-1">Modules and paths</a><a class="docs-heading-anchor-permalink" href="#Modules-and-paths-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.modulefiles" href="#Revise.modulefiles"><code>Revise.modulefiles</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">parentfile, included_files = modulefiles(mod::Module)</code></pre><p>Return the <code>parentfile</code> in which <code>mod</code> was defined, as well as a list of any other files that were <code>include</code>d to define <code>mod</code>. If this operation is unsuccessful, <code>(nothing, nothing)</code> is returned.</p><p>All files are returned as absolute paths.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/pkgs.jl#L121-L129">source</a></section></article><h3 id="Git-integration-1"><a class="docs-heading-anchor" href="#Git-integration-1">Git integration</a><a class="docs-heading-anchor-permalink" href="#Git-integration-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.git_source" href="#Revise.git_source"><code>Revise.git_source</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Revise.git_source(file::AbstractString, reference)</code></pre><p>Read the source-text for <code>file</code> from a git commit <code>reference</code>. The reference may be a string, Symbol, or <code>LibGit2.Tree</code>.</p><p><strong>Example:</strong></p><pre><code class="language-none">Revise.git_source(&quot;/path/to/myfile.jl&quot;, &quot;HEAD&quot;)
Revise.git_source(&quot;/path/to/myfile.jl&quot;, :abcd1234)  # by commit SHA</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/git.jl#L54-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.git_files" href="#Revise.git_files"><code>Revise.git_files</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">files = git_files(repo)</code></pre><p>Return the list of files checked into <code>repo</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/git.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="Revise.git_repo" href="#Revise.git_repo"><code>Revise.git_repo</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">repo, repo_path = git_repo(path::AbstractString)</code></pre><p>Return the <code>repo::LibGit2.GitRepo</code> containing the file or directory <code>path</code>. <code>path</code> does not necessarily need to be the top-level directory of the repository. Also returns the <code>repo_path</code> of the top-level directory for the repository.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/git.jl#L1-L8">source</a></section></article><h3 id="Distributed-computing-1"><a class="docs-heading-anchor" href="#Distributed-computing-1">Distributed computing</a><a class="docs-heading-anchor-permalink" href="#Distributed-computing-1" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-binding" id="Revise.init_worker" href="#Revise.init_worker"><code>Revise.init_worker</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">Revise.init_worker(p)</code></pre><p>Define methods on worker <code>p</code> that Revise needs in order to perform revisions on <code>p</code>. Revise itself does not need to be running on <code>p</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/timholy/Revise.jl/blob/2b8f53601cd5ccb1313ff9a144cbf9bca7e2863a/src/Revise.jl#L1082-L1087">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../user_reference/">« User reference</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 18 May 2020 20:37">Monday 18 May 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>

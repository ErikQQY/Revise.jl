<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Configuration · Revise.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.svg" alt="Revise.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit">Revise.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Configuration</a><ul class="internal"><li><a class="tocitem" href="#Using-Revise-by-default-1"><span>Using Revise by default</span></a></li><li><a class="tocitem" href="#Optional-configuration-1"><span>Optional configuration</span></a></li><li><a class="tocitem" href="#Configurations-for-fixing-errors-1"><span>Configurations for fixing errors</span></a></li></ul></li><li><a class="tocitem" href="../cookbook/">Revise usage: a cookbook</a></li><li><a class="tocitem" href="../limitations/">Limitations</a></li><li><a class="tocitem" href="../debugging/">Debugging Revise</a></li><li><a class="tocitem" href="../internals/">How Revise works</a></li><li><a class="tocitem" href="../user_reference/">User reference</a></li><li><a class="tocitem" href="../dev_reference/">Developer reference</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Configuration</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Configuration</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/timholy/Revise.jl/blob/master/docs/src/config.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Configuration-1"><a class="docs-heading-anchor" href="#Configuration-1">Configuration</a><a class="docs-heading-anchor-permalink" href="#Configuration-1" title="Permalink"></a></h1><h2 id="Using-Revise-by-default-1"><a class="docs-heading-anchor" href="#Using-Revise-by-default-1">Using Revise by default</a><a class="docs-heading-anchor-permalink" href="#Using-Revise-by-default-1" title="Permalink"></a></h2><p>If you like Revise, you can ensure that every Julia session uses it by launching it from your <code>.julia/config/startup.jl</code> file.</p><h3 id="Revise-2.6-and-Julia-1.5-1"><a class="docs-heading-anchor" href="#Revise-2.6-and-Julia-1.5-1">Revise 2.6+ and Julia 1.5+</a><a class="docs-heading-anchor-permalink" href="#Revise-2.6-and-Julia-1.5-1" title="Permalink"></a></h3><p>If you&#39;re using at least version 2.6 of Revise <em>and</em> version 1.5 or higher of Julia, this can be as simple as adding</p><pre><code class="language-julia">using Revise</code></pre><p>to your <code>startup.jl</code>.</p><p>If you use different package depots and do not always have Revise available,</p><pre><code class="language-julia">try
    using Revise
catch e
    @warn(e.msg)
end</code></pre><p>is recommended instead.</p><h3 id="Earlier-versions-of-Revise-and/or-Julia-1"><a class="docs-heading-anchor" href="#Earlier-versions-of-Revise-and/or-Julia-1">Earlier versions of Revise and/or Julia</a><a class="docs-heading-anchor-permalink" href="#Earlier-versions-of-Revise-and/or-Julia-1" title="Permalink"></a></h3><p>If you sometimes use versions of Julia prior to 1.5, instead of the above add</p><pre><code class="language-julia">atreplinit() do repl
    try
        @eval using Revise
        @async Revise.wait_steal_repl_backend()
    catch e
        @warn(e.msg)
    end
end</code></pre><p>to your <code>startup.jl</code>.</p><h3 id="Using-Revise-automatically-within-Jupyter/IJulia-1"><a class="docs-heading-anchor" href="#Using-Revise-automatically-within-Jupyter/IJulia-1">Using Revise automatically within Jupyter/IJulia</a><a class="docs-heading-anchor-permalink" href="#Using-Revise-automatically-within-Jupyter/IJulia-1" title="Permalink"></a></h3><p>If you want Revise to launch automatically within IJulia, then you should also create a <code>.julia/config/startup_ijulia.jl</code> file with the contents</p><pre><code class="language-julia">try
    @eval using Revise
catch e
    @warn(e.msg)
end</code></pre><h2 id="Optional-configuration-1"><a class="docs-heading-anchor" href="#Optional-configuration-1">Optional configuration</a><a class="docs-heading-anchor-permalink" href="#Optional-configuration-1" title="Permalink"></a></h2><p>Revise can be configured by setting environment variables. These variables have to be set before you execute <code>using Revise</code>, because these environment variables are parsed only during execution of Revise&#39;s <code>__init__</code> function.</p><p>There are several ways to set these environment variables:</p><ul><li>If you are <a href="#Using-Revise-by-default-1">Using Revise by default</a> then you can include statements like <code>ENV[&quot;JULIA_REVISE&quot;] = &quot;manual&quot;</code> in your <code>.julia/config/startup.jl</code> file prior to the line <code>@eval using Revise</code>.</li><li>On Unix systems, you can set variables in your shell initialization script (e.g., put lines like <code>export JULIA_REVISE=manual</code> in your <a href="http://www.linuxfromscratch.org/blfs/view/svn/postlfs/profile.html"><code>.bashrc</code> file</a> if you use <code>bash</code>).</li><li>On Unix systems, you can launch Julia from the Unix prompt as <code>$ JULIA_REVISE=manual julia</code> to set options for just that session.</li></ul><p>The function of specific environment variables is described below.</p><h3 id="Manual-revision:-JULIA_REVISE-1"><a class="docs-heading-anchor" href="#Manual-revision:-JULIA_REVISE-1">Manual revision: JULIA_REVISE</a><a class="docs-heading-anchor-permalink" href="#Manual-revision:-JULIA_REVISE-1" title="Permalink"></a></h3><p>By default, Revise processes any modified source files every time you enter a command at the REPL. However, there might be times where you&#39;d prefer to exert manual control over the timing of revisions. <code>Revise</code> looks for an environment variable <code>JULIA_REVISE</code>, and if it is set to anything other than <code>&quot;auto&quot;</code> it will require that you manually call <code>revise()</code> to update code.</p><p>Alternatively, you can omit the call to <code>Revise.async_steal_repl_backend()</code> from your <code>startup.jl</code> file (see <a href="#Using-Revise-by-default-1">Using Revise by default</a>).</p><h3 id="User-scripts:-JULIA_REVISE_INCLUDE-1"><a class="docs-heading-anchor" href="#User-scripts:-JULIA_REVISE_INCLUDE-1">User scripts: JULIA_REVISE_INCLUDE</a><a class="docs-heading-anchor-permalink" href="#User-scripts:-JULIA_REVISE_INCLUDE-1" title="Permalink"></a></h3><p>By default, <code>Revise</code> only tracks files that have been required as a consequence of a <code>using</code> or <code>import</code> statement; files loaded by <code>include</code> are not tracked, unless you explicitly use <code>includet</code> or <code>Revise.track(filename)</code>. However, you can turn on automatic tracking by setting the environment variable <code>JULIA_REVISE_INCLUDE</code> to the string <code>&quot;1&quot;</code> (e.g., <code>JULIA_REVISE_INCLUDE=1</code> in a bash script).</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Most users should avoid setting <code>JULIA_REVISE_INCLUDE</code>. Try <code>includet</code> instead.</p></div></div><h2 id="Configurations-for-fixing-errors-1"><a class="docs-heading-anchor" href="#Configurations-for-fixing-errors-1">Configurations for fixing errors</a><a class="docs-heading-anchor-permalink" href="#Configurations-for-fixing-errors-1" title="Permalink"></a></h2><h3 id="No-space-left-on-device-1"><a class="docs-heading-anchor" href="#No-space-left-on-device-1">No space left on device</a><a class="docs-heading-anchor-permalink" href="#No-space-left-on-device-1" title="Permalink"></a></h3><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This applies only to Linux</p></div></div><p>Revise needs to be notified by your filesystem about changes to your code, which means that the files that define your modules need to be watched for updates. Some systems impose limits on the number of files and directories that can be watched simultaneously; if this limit is hit, on Linux this can result in a fairly cryptic error like</p><pre><code class="language-sh">ERROR: start_watching (File Monitor): no space left on device (ENOSPC)</code></pre><p>The cure is to increase the number of files that can be watched, by executing</p><pre><code class="language-sh">echo 65536 | sudo tee -a /proc/sys/fs/inotify/max_user_watches</code></pre><p>at the Linux prompt. (The maximum value is 524288, which will allocate half a gigabyte of RAM to file-watching). For more information see <a href="https://github.com/timholy/Revise.jl/issues/26">issue #26</a>.</p><p>Changing the value this way may not last through the next reboot, but <a href="https://askubuntu.com/questions/716431/inotify-max-user-watches-value-resets-on-reboot-how-to-change-it-permanently">you can also change it permanently</a>.</p><h3 id="Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL-1"><a class="docs-heading-anchor" href="#Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL-1">Polling and NFS-mounted code directories: JULIA_REVISE_POLL</a><a class="docs-heading-anchor-permalink" href="#Polling-and-NFS-mounted-code-directories:-JULIA_REVISE_POLL-1" title="Permalink"></a></h3><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>This applies only to Unix systems with code on network-mounted drives</p></div></div><p><code>Revise</code> works by monitoring your filesystem for changes to the files that define your code. On most operating systems, Revise can work &quot;passively&quot; and wait to be signaled that one or more watched directories has changed.</p><p>Unfortunately, a few file systems systems (notably, the Unix-based Network File System NFS) don&#39;t support this approach. In such cases, Revise needs to &quot;actively&quot; check each file periodically to see whether it has changed since the last check. This active process is called <a href="https://en.wikipedia.org/wiki/Polling_(computer_science)">polling</a>. You turn on polling by setting the environment variable <code>JULIA_REVISE_POLL</code> to the string <code>&quot;1&quot;</code> (e.g., <code>JULIA_REVISE_POLL=1</code> in a bash script).</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>If you&#39;re using polling, you may have to wait several seconds before changes take effect. Polling is <em>not</em> recommended unless you have no other alternative.</p></div></div><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>NFS stands for <a href="https://en.wikipedia.org/wiki/Network_File_System">Network File System</a> and is typically only used to mount shared network drives on <em>Unix</em> file systems. Despite similarities in the acronym, NTFS, the standard <a href="https://en.wikipedia.org/wiki/NTFS">filesystem on Windows</a>, is completely different from NFS; Revise&#39;s default configuration should work fine on Windows without polling.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../cookbook/">Revise usage: a cookbook »</a></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Sunday 7 June 2020 08:01">Sunday 7 June 2020</span>. Using Julia version 1.0.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
